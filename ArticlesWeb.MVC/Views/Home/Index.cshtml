@using System.Security.Claims
@model List<ArticlesWeb.Entities.DbEntities.Post>
@{
    
    ViewData["Title"] = "Home Page";

}

<div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
        @{
            if (Model.Count == 0)
            {
                <div class="alert alert-info">
                    <h2>Henüz bir makale yok :( @String.Concat(User.Claims.Where(x => x.Type == ClaimTypes.Role)) </h2>
                </div>
            }
            else
            {
                foreach (var post in Model)
                {
                    <hr>
                    <div class="post-preview">
                        <a href="/Post/Details/@post.PostId">
                            <h2 class="post-title">
                                @post.Title
                            </h2>
                            <h3 class="post-subtitle">
                                @post.Text
                            </h3>
                        </a>
                        <p class="post-meta">
                            Posted by
                            <a href="/User/Details/@post.User.UserId">@post.User.Username</a>
                            on @post.CreatedAt.ToShortDateString()
                        </p>
                        <p class="post-meta">@post.CommentCount Yorum</p>
                    </div>
                }
            }
        }
    </div>
    </div>
